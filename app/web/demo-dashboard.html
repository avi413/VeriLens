<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VeriLens - Investor Demo Dashboard</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
          sans-serif;
        background: #0a0e1a;
        color: #ffffff;
        overflow-x: hidden;
      }

      /* Animated Background */
      .bg-animation {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(45deg, #1a1d4a, #0a0e1a, #2d1b69);
        background-size: 400% 400%;
        animation: gradientShift 10s ease infinite;
        z-index: -1;
      }

      @keyframes gradientShift {
        0% {
          background-position: 0% 50%;
        }
        50% {
          background-position: 100% 50%;
        }
        100% {
          background-position: 0% 50%;
        }
      }

      /* Header with Real-time Stats */
      .demo-header {
        background: linear-gradient(
          135deg,
          rgba(0, 0, 0, 0.8),
          rgba(30, 30, 80, 0.9)
        );
        backdrop-filter: blur(20px);
        padding: 20px 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        position: sticky;
        top: 0;
        z-index: 1000;
      }

      .header-content {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .logo-section h1 {
        font-size: 2.2rem;
        background: linear-gradient(135deg, #64b5f6, #42a5f5, #1e88e5);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        font-weight: 700;
      }

      .live-stats {
        display: flex;
        gap: 30px;
        align-items: center;
      }

      .stat-item {
        text-align: center;
        padding: 10px 20px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        backdrop-filter: blur(10px);
      }

      .stat-value {
        font-size: 1.8rem;
        font-weight: 700;
        color: #64b5f6;
        margin-bottom: 5px;
        font-family: 'Courier New', monospace;
      }

      .stat-label {
        font-size: 0.8rem;
        opacity: 0.8;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      /* Main Dashboard Grid */
      .dashboard-grid {
        max-width: 1400px;
        margin: 0 auto;
        padding: 30px 20px;
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 30px;
        min-height: calc(100vh - 120px);
      }

      .demo-panel {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 20px;
        padding: 30px;
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        position: relative;
        overflow: hidden;
      }

      .panel-header {
        display: flex;
        align-items: center;
        margin-bottom: 25px;
        padding-bottom: 15px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }

      .panel-icon {
        width: 50px;
        height: 50px;
        background: linear-gradient(135deg, #64b5f6, #1e88e5);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 15px;
        font-size: 1.5rem;
      }

      .panel-title {
        font-size: 1.5rem;
        font-weight: 600;
        margin: 0;
      }

      /* Camera Demo Panel */
      .camera-demo {
        grid-row: span 2;
      }

      .camera-container {
        position: relative;
        background: #000;
        border-radius: 15px;
        overflow: hidden;
        margin-bottom: 20px;
        border: 2px solid rgba(100, 181, 246, 0.3);
      }

      #demoVideo {
        width: 100%;
        max-height: 400px;
        object-fit: cover;
        display: block;
      }

      .camera-overlay {
        position: absolute;
        top: 15px;
        right: 15px;
        display: flex;
        gap: 10px;
      }

      .overlay-badge {
        background: rgba(0, 0, 0, 0.8);
        color: #64b5f6;
        padding: 8px 15px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .pulse {
        width: 8px;
        height: 8px;
        background: #4caf50;
        border-radius: 50%;
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
          opacity: 1;
        }
        50% {
          transform: scale(1.2);
          opacity: 0.7;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      .capture-controls {
        display: flex;
        gap: 15px;
        margin-top: 20px;
      }

      .demo-btn {
        flex: 1;
        padding: 15px 25px;
        border: none;
        border-radius: 12px;
        font-weight: 600;
        font-size: 1rem;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }

      .btn-capture {
        background: linear-gradient(135deg, #4caf50, #45a049);
        color: white;
      }

      .btn-capture:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(76, 175, 80, 0.3);
      }

      .btn-verify {
        background: linear-gradient(135deg, #2196f3, #1976d2);
        color: white;
      }

      .btn-verify:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(33, 150, 243, 0.3);
      }

      /* Security Metrics Panel */
      .security-metrics {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-top: 20px;
      }

      .metric-card {
        background: rgba(255, 255, 255, 0.05);
        padding: 20px;
        border-radius: 12px;
        text-align: center;
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .metric-value {
        font-size: 2.2rem;
        font-weight: 700;
        margin-bottom: 8px;
        background: linear-gradient(135deg, #4caf50, #8bc34a);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      .metric-label {
        font-size: 0.9rem;
        opacity: 0.8;
      }

      .metric-trend {
        font-size: 0.8rem;
        color: #4caf50;
        margin-top: 5px;
      }

      /* Blockchain Activity Panel */
      .blockchain-activity {
        max-height: 400px;
        overflow-y: auto;
      }

      .activity-item {
        display: flex;
        align-items: center;
        padding: 15px;
        margin-bottom: 10px;
        background: rgba(255, 255, 255, 0.03);
        border-radius: 10px;
        border-left: 3px solid #64b5f6;
      }

      .activity-icon {
        width: 40px;
        height: 40px;
        background: linear-gradient(135deg, #64b5f6, #1e88e5);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 15px;
      }

      .activity-content {
        flex: 1;
      }

      .activity-title {
        font-weight: 600;
        margin-bottom: 5px;
      }

      .activity-time {
        font-size: 0.8rem;
        opacity: 0.7;
      }

      .activity-hash {
        font-family: 'Courier New', monospace;
        font-size: 0.7rem;
        background: rgba(255, 255, 255, 0.1);
        padding: 2px 6px;
        border-radius: 4px;
        display: inline-block;
        margin-top: 5px;
      }

      /* Analytics Panel */
      .analytics-chart {
        width: 100%;
        height: 200px;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 10px;
        margin-bottom: 20px;
        position: relative;
        overflow: hidden;
      }

      .chart-placeholder {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100%;
        color: rgba(255, 255, 255, 0.5);
        font-style: italic;
      }

      /* Real-time Verification Feed */
      .verification-feed {
        display: flex;
        flex-direction: column;
        gap: 12px;
        max-height: 300px;
        overflow-y: auto;
      }

      .verification-item {
        display: flex;
        align-items: center;
        gap: 15px;
        padding: 12px;
        background: rgba(255, 255, 255, 0.03);
        border-radius: 8px;
        animation: slideInRight 0.5s ease;
      }

      @keyframes slideInRight {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      .verification-status {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: #4caf50;
        animation: pulse 2s infinite;
      }

      .verification-details {
        flex: 1;
      }

      .verification-id {
        font-family: 'Courier New', monospace;
        font-size: 0.8rem;
        opacity: 0.7;
      }

      .verification-timestamp {
        font-size: 0.7rem;
        opacity: 0.5;
      }

      /* Floating Action Buttons */
      .fab-container {
        position: fixed;
        bottom: 30px;
        right: 30px;
        display: flex;
        flex-direction: column;
        gap: 15px;
        z-index: 1000;
      }

      .fab {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: linear-gradient(135deg, #ff5722, #f44336);
        color: white;
        border: none;
        font-size: 1.5rem;
        cursor: pointer;
        box-shadow: 0 8px 25px rgba(255, 87, 34, 0.3);
        transition: all 0.3s ease;
      }

      .fab:hover {
        transform: scale(1.1);
        box-shadow: 0 12px 35px rgba(255, 87, 34, 0.5);
      }

      /* Responsive Design */
      @media (max-width: 1200px) {
        .dashboard-grid {
          grid-template-columns: 1fr;
          gap: 20px;
        }

        .camera-demo {
          grid-row: span 1;
        }

        .live-stats {
          gap: 15px;
        }

        .stat-item {
          padding: 8px 15px;
        }
      }

      @media (max-width: 768px) {
        .header-content {
          flex-direction: column;
          gap: 20px;
        }

        .live-stats {
          flex-wrap: wrap;
          justify-content: center;
        }

        .demo-panel {
          padding: 20px;
        }

        .capture-controls {
          flex-direction: column;
        }

        .security-metrics {
          grid-template-columns: 1fr;
        }
      }

        /* Investor Insights Panel */
        .investor-panel {
          grid-column: 1 / -1;
        }

        .scenario-selector {
          display: flex;
          flex-wrap: wrap;
          gap: 12px;
          margin-bottom: 20px;
        }

        .scenario-btn {
          border-radius: 999px;
          border: 1px solid rgba(255, 255, 255, 0.3);
          background: transparent;
          color: #ffffff;
          padding: 10px 18px;
          cursor: pointer;
          font-weight: 600;
          transition: all 0.2s ease;
          letter-spacing: 0.5px;
        }

        .scenario-btn:hover,
        .scenario-btn.active {
          background: linear-gradient(135deg, #64b5f6, #1e88e5);
          box-shadow: 0 10px 30px rgba(100, 181, 246, 0.3);
        }

        .investor-grid {
          display: grid;
          grid-template-columns: 2fr 1fr;
          gap: 20px;
        }

        .scenario-overview,
        .economics-card,
        .story-card {
          background: rgba(255, 255, 255, 0.03);
          border-radius: 16px;
          padding: 20px;
          border: 1px solid rgba(255, 255, 255, 0.12);
          min-height: 100%;
        }

        .story-card {
          grid-column: 1 / -1;
        }

        .scenario-heading h3 {
          margin-bottom: 5px;
          font-size: 1.4rem;
        }

        .scenario-heading p {
          color: rgba(255, 255, 255, 0.75);
          margin-bottom: 12px;
        }

        .roi-badge {
          display: inline-flex;
          align-items: center;
          gap: 8px;
          padding: 6px 14px;
          border-radius: 999px;
          background: rgba(76, 175, 80, 0.15);
          color: #81c784;
          font-size: 0.9rem;
          margin-bottom: 15px;
        }

        .scenario-metrics {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
          gap: 12px;
        }

        .metric-pill {
          background: rgba(255, 255, 255, 0.05);
          border-radius: 12px;
          padding: 12px;
          border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .metric-value {
          font-size: 1.6rem;
          font-weight: 700;
          margin-bottom: 4px;
        }

        .metric-label {
          font-size: 0.85rem;
          opacity: 0.7;
          letter-spacing: 0.5px;
          text-transform: uppercase;
        }

        .economics-card table {
          width: 100%;
          border-collapse: collapse;
        }

        .economics-card td {
          padding: 10px 0;
          border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        }

        .economics-card td:last-child {
          text-align: right;
          font-weight: 600;
          color: #64b5f6;
        }

        .story-list {
          list-style: none;
          display: flex;
          flex-direction: column;
          gap: 12px;
          padding: 0;
          margin: 0;
        }

        .story-step {
          display: flex;
          gap: 12px;
          padding: 10px;
          border-radius: 10px;
          background: rgba(255, 255, 255, 0.04);
          border: 1px solid rgba(255, 255, 255, 0.07);
        }

        .step-index {
          width: 26px;
          height: 26px;
          border-radius: 50%;
          background: #64b5f6;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 700;
          font-size: 0.9rem;
        }

        @media (max-width: 1024px) {
          .investor-grid {
            grid-template-columns: 1fr;
          }
        }
    </style>
  </head>
  <body>
    <div class="bg-animation"></div>

    <!-- Header with Live Stats -->
    <header class="demo-header">
      <div class="header-content">
        <div class="logo-section">
          <h1><i class="fas fa-shield-alt"></i> VeriLens</h1>
        </div>
        <div class="live-stats">
          <div class="stat-item">
            <div class="stat-value" id="photosVerified">1,247</div>
            <div class="stat-label">Photos Verified</div>
          </div>
          <div class="stat-item">
            <div class="stat-value" id="securityScore">99.7%</div>
            <div class="stat-label">Security Score</div>
          </div>
          <div class="stat-item">
            <div class="stat-value" id="blockchainTxs">856</div>
            <div class="stat-label">Blockchain Txs</div>
          </div>
          <div class="stat-item">
            <div class="stat-value" id="uptime">99.9%</div>
            <div class="stat-label">Uptime</div>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Dashboard -->
    <main class="dashboard-grid">
      <!-- Live Camera Demo Panel -->
      <section class="demo-panel camera-demo">
        <div class="panel-header">
          <div class="panel-icon">
            <i class="fas fa-camera"></i>
          </div>
          <h2 class="panel-title">Live Photo Authentication</h2>
        </div>

        <div class="camera-container">
          <video id="demoVideo" autoplay muted playsinline></video>
          <div class="camera-overlay">
            <div class="overlay-badge">
              <div class="pulse"></div>
              Live Security Scan
            </div>
            <div class="overlay-badge">
              <i class="fas fa-shield-alt"></i>
              Protected
            </div>
          </div>
        </div>

        <div class="capture-controls">
          <button class="demo-btn btn-capture" id="demoCapture">
            <i class="fas fa-camera"></i> Capture & Verify
          </button>
          <button class="demo-btn btn-verify" id="demoVerify">
            <i class="fas fa-search"></i> Analyze Photo
          </button>
        </div>

        <div class="security-metrics">
          <div class="metric-card">
            <div class="metric-value" id="trustScore">97.3</div>
            <div class="metric-label">Trust Score</div>
            <div class="metric-trend">â†— +2.1%</div>
          </div>
          <div class="metric-card">
            <div class="metric-value" id="deviceSecurity">100%</div>
            <div class="metric-label">Device Security</div>
            <div class="metric-trend">â†— Verified</div>
          </div>
          <div class="metric-card">
            <div class="metric-value" id="encryptionLevel">AES-256</div>
            <div class="metric-label">Encryption</div>
            <div class="metric-trend">âœ“ Active</div>
          </div>
          <div class="metric-card">
            <div class="metric-value" id="blockchainConfirm">3/3</div>
            <div class="metric-label">Confirmations</div>
            <div class="metric-trend">âœ“ Secured</div>
          </div>
        </div>
      </section>

      <!-- Security Dashboard Panel -->
      <section class="demo-panel">
        <div class="panel-header">
          <div class="panel-icon">
            <i class="fas fa-shield-alt"></i>
          </div>
          <h2 class="panel-title">Security Monitoring</h2>
        </div>

        <div class="analytics-chart">
          <div class="chart-placeholder">
            <i class="fas fa-chart-line"></i> Real-time Security Analytics
          </div>
        </div>

        <div class="verification-feed">
          <div class="verification-item">
            <div class="verification-status"></div>
            <div class="verification-details">
              <div class="verification-title">Photo Verified Successfully</div>
              <div class="verification-id">Hash: 0xa7f8d9e2...</div>
              <div class="verification-timestamp">2 seconds ago</div>
            </div>
          </div>
          <div class="verification-item">
            <div class="verification-status"></div>
            <div class="verification-details">
              <div class="verification-title">
                Blockchain Transaction Confirmed
              </div>
              <div class="verification-id">Block: #892,156</div>
              <div class="verification-timestamp">15 seconds ago</div>
            </div>
          </div>
          <div class="verification-item">
            <div class="verification-status"></div>
            <div class="verification-details">
              <div class="verification-title">Device Attestation Validated</div>
              <div class="verification-id">Device: iPhone 15 Pro</div>
              <div class="verification-timestamp">32 seconds ago</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Blockchain Activity Panel -->
      <section class="demo-panel">
        <div class="panel-header">
          <div class="panel-icon">
            <i class="fas fa-cubes"></i>
          </div>
          <h2 class="panel-title">Blockchain Activity</h2>
        </div>

        <div class="blockchain-activity">
          <div class="activity-item">
            <div class="activity-icon">
              <i class="fas fa-plus"></i>
            </div>
            <div class="activity-content">
              <div class="activity-title">Photo Hash Registered</div>
              <div class="activity-time">Nov 21, 2025 â€¢ 3:45 PM</div>
              <div class="activity-hash">
                0xa7f8d9e2c1b3f4a5d6e7f8g9h0i1j2k3
              </div>
            </div>
          </div>
          <div class="activity-item">
            <div class="activity-icon">
              <i class="fas fa-check"></i>
            </div>
            <div class="activity-content">
              <div class="activity-title">Verification Consensus Reached</div>
              <div class="activity-time">Nov 21, 2025 â€¢ 3:44 PM</div>
              <div class="activity-hash">
                0xb8e9f0d3c2a4f5b6c7d8e9f0g1h2i3j4
              </div>
            </div>
          </div>
          <div class="activity-item">
            <div class="activity-icon">
              <i class="fas fa-lock"></i>
            </div>
            <div class="activity-content">
              <div class="activity-title">Cryptographic Proof Generated</div>
              <div class="activity-time">Nov 21, 2025 â€¢ 3:43 PM</div>
              <div class="activity-hash">
                0xc9d0e1f4a3b5c6d7e8f9g0h1i2j3k4l5
              </div>
            </div>
          </div>
        </div>
      </section>

        <!-- Investor Insights Panel -->
        <section class="demo-panel investor-panel">
          <div class="panel-header">
            <div class="panel-icon">
              <i class="fas fa-chart-pie"></i>
            </div>
            <h2 class="panel-title">Investor Opportunity Simulator</h2>
          </div>

          <div class="scenario-selector">
            <button class="scenario-btn active" data-scenario="insurance">
              Insurance Claims
            </button>
            <button class="scenario-btn" data-scenario="media">
              Media Provenance
            </button>
            <button class="scenario-btn" data-scenario="commerce">
              Luxury Resale
            </button>
          </div>

          <div class="investor-grid">
            <div class="scenario-overview">
              <div class="scenario-heading">
                <h3 id="scenarioTitle">Insurance Claims Automation</h3>
                <p id="scenarioSubtitle">
                  Stop AI-generated evidence from leaking through claims workflows.
                </p>
                <div class="roi-badge" id="scenarioROI">+18M annual fraud savings</div>
              </div>
              <div class="scenario-metrics" id="scenarioMetrics">
                <!-- Filled dynamically -->
              </div>
            </div>
            <div class="economics-card">
              <h3 style="margin-bottom: 10px">Unit Economics</h3>
              <table id="economicsTable">
                <!-- Rows filled dynamically -->
              </table>
            </div>
            <div class="story-card">
              <h3 style="margin-bottom: 10px">Proof Narrative</h3>
              <ul class="story-list" id="scenarioStory">
                <!-- Steps inserted dynamically -->
              </ul>
            </div>
          </div>
        </section>
    </main>

    <!-- Floating Action Buttons -->
    <div class="fab-container">
      <button class="fab" title="Settings" id="settingsFab">
        <i class="fas fa-cog"></i>
      </button>
      <button class="fab" title="Full Demo" id="fullDemoFab">
        <i class="fas fa-play"></i>
      </button>
    </div>

    <!-- Scripts -->
    <script src="verilens-sdk.js"></script>
    <script src="secure-camera-api.js"></script>
    <script>
      class DemoController {
        constructor() {
          this.initializeDemo();
          this.startLiveUpdates();
          this.setupEventHandlers();
        }

        async initializeDemo() {
          try {
            // Initialize camera
            await this.initializeCamera();

            // Initialize VeriLens SDK
            if (typeof VeriLensSDK !== 'undefined') {
              this.sdk = new VeriLensSDK();
              console.log('âœ… VeriLens SDK initialized for demo');
            }

            // Start demo animations
            this.animateMetrics();
            this.simulateActivity();
          } catch (error) {
            console.error('Demo initialization error:', error);
          }
        }

        async initializeCamera() {
          try {
            const video = document.getElementById('demoVideo');
            const stream = await navigator.mediaDevices.getUserMedia({
              video: {
                width: { ideal: 1280 },
                height: { ideal: 720 },
                facingMode: 'environment',
              },
            });
            video.srcObject = stream;
            console.log('ðŸ“¹ Demo camera initialized');
          } catch (error) {
            console.log('ðŸ“¹ Demo mode - using placeholder');
            this.setupCameraPlaceholder();
          }
        }

        setupCameraPlaceholder() {
          const video = document.getElementById('demoVideo');
          video.style.background = 'linear-gradient(45deg, #1a1d4a, #2d1b69)';
          video.style.display = 'flex';
          video.style.alignItems = 'center';
          video.style.justifyContent = 'center';
          video.innerHTML =
            '<div style="color: white; text-align: center;"><i class="fas fa-camera fa-3x" style="margin-bottom: 15px;"></i><br>Demo Camera View<br><small>Live camera would appear here</small></div>';
        }

        setupEventHandlers() {
          // Capture button
          document
            .getElementById('demoCapture')
            .addEventListener('click', () => {
              this.performDemoCapture();
            });

          // Verify button
          document
            .getElementById('demoVerify')
            .addEventListener('click', () => {
              this.performDemoVerification();
            });

          // FAB buttons
          document
            .getElementById('settingsFab')
            .addEventListener('click', () => {
              alert('ðŸ”§ Demo Settings Panel (Coming Soon)');
            });

          document
            .getElementById('fullDemoFab')
            .addEventListener('click', () => {
              this.startFullDemo();
            });
        }

        async performDemoCapture() {
          const button = document.getElementById('demoCapture');
          const originalText = button.innerHTML;

          try {
            button.innerHTML =
              '<i class="fas fa-spinner fa-spin"></i> Capturing...';
            button.disabled = true;

            // Simulate capture process
            await this.sleep(1000);

            if (this.sdk) {
              // Use real SDK if available
              const result = await this.sdk.captureAndVerify();
              this.displayCaptureSuccess(result);
            } else {
              // Demo simulation
              this.simulateCaptureSuccess();
            }
          } catch (error) {
            console.error('Capture error:', error);
            this.simulateCaptureSuccess(); // Fallback to demo
          } finally {
            button.innerHTML = originalText;
            button.disabled = false;
          }
        }

        async performDemoVerification() {
          const button = document.getElementById('demoVerify');
          const originalText = button.innerHTML;

          try {
            button.innerHTML =
              '<i class="fas fa-spinner fa-spin"></i> Analyzing...';
            button.disabled = true;

            await this.sleep(1500);

            // Simulate verification
            this.simulateVerificationSuccess();
          } catch (error) {
            console.error('Verification error:', error);
          } finally {
            button.innerHTML = originalText;
            button.disabled = false;
          }
        }

        simulateCaptureSuccess() {
          // Add new verification item
          this.addVerificationItem(
            'Photo Captured & Verified',
            'Hash: 0x' + Math.random().toString(16).substr(2, 8) + '...',
            'just now'
          );

          // Update metrics
          this.updateMetric('photosVerified', 1);
          this.updateTrustScore();

          // Add blockchain activity
          this.addBlockchainActivity(
            'Photo Hash Registered',
            '0x' + Math.random().toString(16).substr(2, 32)
          );
        }

        simulateVerificationSuccess() {
          // Add verification item
          this.addVerificationItem(
            'Security Analysis Complete',
            'Score: 98.7% âœ“',
            'just now'
          );

          // Update security metrics
          document.getElementById('deviceSecurity').textContent = '100%';
          this.updateMetric('securityScore', 0.1);
        }

        addVerificationItem(title, id, timestamp) {
          const feed = document.querySelector('.verification-feed');
          const item = document.createElement('div');
          item.className = 'verification-item';
          item.innerHTML = `
            <div class="verification-status"></div>
            <div class="verification-details">
              <div class="verification-title">${title}</div>
              <div class="verification-id">${id}</div>
              <div class="verification-timestamp">${timestamp}</div>
            </div>
          `;

          feed.insertBefore(item, feed.firstChild);

          // Remove oldest if too many
          if (feed.children.length > 5) {
            feed.removeChild(feed.lastChild);
          }
        }

        addBlockchainActivity(title, hash) {
          const activity = document.querySelector('.blockchain-activity');
          const item = document.createElement('div');
          item.className = 'activity-item';
          item.innerHTML = `
            <div class="activity-icon">
              <i class="fas fa-plus"></i>
            </div>
            <div class="activity-content">
              <div class="activity-title">${title}</div>
              <div class="activity-time">Nov 21, 2025 â€¢ ${new Date().toLocaleTimeString()}</div>
              <div class="activity-hash">${hash}</div>
            </div>
          `;

          activity.insertBefore(item, activity.firstChild);

          // Remove oldest if too many
          if (activity.children.length > 4) {
            activity.removeChild(activity.lastChild);
          }
        }

        updateMetric(elementId, increment) {
          const element = document.getElementById(elementId);
          if (element) {
            const currentValue = parseInt(
              element.textContent.replace(/[^\d]/g, '')
            );
            element.textContent = (currentValue + increment).toLocaleString();
          }
        }

        updateTrustScore() {
          const trustScore = document.getElementById('trustScore');
          const currentScore = parseFloat(trustScore.textContent);
          const newScore = Math.min(99.9, currentScore + Math.random() * 0.5);
          trustScore.textContent = newScore.toFixed(1);
        }

        startLiveUpdates() {
          // Update stats every 5 seconds
          setInterval(() => {
            this.updateMetric('photosVerified', Math.floor(Math.random() * 3));
            this.updateMetric('blockchainTxs', Math.floor(Math.random() * 2));

            // Occasionally update security score
            if (Math.random() > 0.7) {
              const securityElement = document.getElementById('securityScore');
              const current = parseFloat(securityElement.textContent);
              securityElement.textContent =
                (current + (Math.random() * 0.1 - 0.05)).toFixed(1) + '%';
            }
          }, 5000);
        }

        animateMetrics() {
          // Animate metric cards
          const metrics = document.querySelectorAll('.metric-card');
          metrics.forEach((metric, index) => {
            metric.style.animation = `slideInRight 0.5s ease ${
              index * 0.1
            }s both`;
          });
        }

        simulateActivity() {
          // Add periodic blockchain activity
          setInterval(() => {
            if (Math.random() > 0.6) {
              const activities = [
                'Photo Hash Registered',
                'Verification Consensus Reached',
                'Cryptographic Proof Generated',
                'Device Attestation Validated',
              ];
              const randomActivity =
                activities[Math.floor(Math.random() * activities.length)];
              this.addBlockchainActivity(
                randomActivity,
                '0x' + Math.random().toString(16).substr(2, 32)
              );
            }
          }, 8000);

          // Add periodic verification items
          setInterval(() => {
            if (Math.random() > 0.5) {
              const verifications = [
                ['Security Scan Complete', 'Score: 99.1% âœ“'],
                ['Anti-tampering Check Passed', 'Device: Verified'],
                [
                  'Blockchain Sync Complete',
                  'Block: #' + Math.floor(Math.random() * 1000000),
                ],
                ['Hardware Attestation OK', 'TEE: Validated'],
              ];
              const randomVerification =
                verifications[Math.floor(Math.random() * verifications.length)];
              this.addVerificationItem(
                randomVerification[0],
                randomVerification[1],
                Math.floor(Math.random() * 60) + ' seconds ago'
              );
            }
          }, 12000);
        }

        async startFullDemo() {
          alert(
            'ðŸŽ¬ Starting Full Demo Sequence...\n\n1. Live Security Scanning\n2. Photo Capture & Verification\n3. Blockchain Recording\n4. Trust Score Calculation\n5. Anti-tampering Validation\n\nThis would show a complete workflow for investors.'
          );
        }

        sleep(ms) {
          return new Promise((resolve) => setTimeout(resolve, ms));
        }
      }

        const investorScenarios = {
          insurance: {
            title: 'Insurance Claims Automation',
            subtitle:
              'AI-forged evidence is blocked before it reaches an adjuster.',
            roi: '+$18M fraud savings / year',
            metrics: [
              { label: 'Claims Verified', value: '240k', hint: 'photos / year' },
              { label: 'Fraud Block Rate', value: '3.2%', hint: 'attempts flagged' },
              { label: 'Per-Claim Fee', value: '$2.40', hint: 'VeriLens SaaS' },
              { label: 'Payback', value: '4.5 mo', hint: 'deployment ROI' },
            ],
            economics: [
              { label: 'Customer Price / Claim', value: '$4.80' },
              { label: 'COGS (compute + chain)', value: '$1.35' },
              { label: 'Gross Margin', value: '72%' },
              { label: 'Annual Contract Value', value: '$11.5M' },
            ],
            story: [
              {
                title: 'Capture @ incident',
                detail:
                  'Adjuster launches VeriLens mobile capture tied to claim ID with GPS + liveness.',
              },
              {
                title: 'Hash + attestation',
                detail:
                  'Photo, device fingerprint, and on-device sensor data are hashed and signed.',
              },
              {
                title: 'Fraud desk view',
                detail:
                  'Trust score auto-routes suspicious claims for human review before payout.',
              },
            ],
          },
          media: {
            title: 'Media Provenance Network',
            subtitle:
              'Newsrooms demand irrefutable proof for user-generated footage.',
            roi: '+$6.4M licensing uplift / year',
            metrics: [
              { label: 'Verified Submissions', value: '52k', hint: 'per quarter' },
              { label: 'Licensing Premium', value: '+18%', hint: 'vs raw footage' },
              { label: 'SDK Seats', value: '750', hint: 'field reporters' },
              { label: 'Churn Risk', value: '<1%', hint: 'locked contracts' },
            ],
            economics: [
              { label: 'Seat Price / Mo', value: '$129' },
              { label: 'Storage + Chain', value: '$28' },
              { label: 'Gross Margin', value: '78%' },
              { label: 'Upsell Potential', value: '$3.2M' },
            ],
            story: [
              {
                title: 'On-location capture',
                detail:
                  'Reporter records footage with VeriLens overlay and real-time tamper alerts.',
              },
              {
                title: 'Newsroom ingest',
                detail:
                  'Hash and attestation logged on consortium ledger, metadata synced to CMS.',
              },
              {
                title: 'Marketplace resale',
                detail:
                  'Proof bundle travels with footage so distributors pay a premium for authenticity.',
              },
            ],
          },
          commerce: {
            title: 'Luxury Resale Escrow',
            subtitle:
              'Marketplaces prove handbags and watches were photographed in-store, not by AI.',
            roi: '+$9.2M GMV protected / year',
            metrics: [
              { label: 'Stores Onboarded', value: '1,120', hint: 'multi-brand' },
              { label: 'Disputes Avoided', value: '87%', hint: 'chargebacks' },
              { label: 'Avg. Item Value', value: '$3,450', hint: 'ticket size' },
              { label: 'SDK Take Rate', value: '1.1%', hint: 'per transaction' },
            ],
            economics: [
              { label: 'Verification Fee', value: '$18 / listing' },
              { label: 'COGS', value: '$4.10' },
              { label: 'Gross Margin', value: '77%' },
              { label: 'Net New GMV', value: '$58M' },
            ],
            story: [
              {
                title: 'Retail capture',
                detail:
                  'Associate scans RFID + photo. VeriLens ties device + store ID into the hash.',
              },
              {
                title: 'Buyer escrow',
                detail:
                  'Buyer validates hash before releasing payment, stopping AI-fabricated listings.',
              },
              {
                title: 'Settlement data',
                detail:
                  'Marketplace shares authenticity proofs with insurers & brand protection teams.',
              },
            ],
          },
        };

        function initInvestorPanel() {
          const buttons = document.querySelectorAll('.scenario-btn');
          if (!buttons.length) return;

          buttons.forEach((button) => {
            button.addEventListener('click', () => {
              buttons.forEach((b) => b.classList.remove('active'));
              button.classList.add('active');
              setScenario(button.dataset.scenario);
            });
          });

          setScenario('insurance');
        }

        function setScenario(key) {
          const scenario = investorScenarios[key];
          if (!scenario) return;

          const titleEl = document.getElementById('scenarioTitle');
          const subtitleEl = document.getElementById('scenarioSubtitle');
          const roiEl = document.getElementById('scenarioROI');
          const metricsEl = document.getElementById('scenarioMetrics');
          const economicsEl = document.getElementById('economicsTable');
          const storyEl = document.getElementById('scenarioStory');

          if (titleEl) titleEl.textContent = scenario.title;
          if (subtitleEl) subtitleEl.textContent = scenario.subtitle;
          if (roiEl) roiEl.textContent = scenario.roi;

          if (metricsEl) {
            metricsEl.innerHTML = scenario.metrics
              .map(
                (metric) => `
                  <div class="metric-pill">
                    <div class="metric-value">${metric.value}</div>
                    <div class="metric-label">${metric.label}</div>
                    <div style="font-size:0.75rem; opacity:0.6;">${metric.hint}</div>
                  </div>
                `
              )
              .join('');
          }

          if (economicsEl) {
            economicsEl.innerHTML = scenario.economics
              .map(
                (row) => `
                  <tr>
                    <td>${row.label}</td>
                    <td>${row.value}</td>
                  </tr>
                `
              )
              .join('');
          }

          if (storyEl) {
            storyEl.innerHTML = scenario.story
              .map(
                (step, index) => `
                  <li class="story-step">
                    <div class="step-index">${index + 1}</div>
                    <div>
                      <strong>${step.title}</strong>
                      <div style="opacity:0.7; font-size:0.9rem;">${step.detail}</div>
                    </div>
                  </li>
                `
              )
              .join('');
          }
        }

      // Initialize demo when page loads
      document.addEventListener('DOMContentLoaded', () => {
        window.demoController = new DemoController();
          initInvestorPanel();
      });
    </script>
  </body>
</html>
